<!--index.html-->

<html>
<head>
    <title>Elm Tron GUI Example</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="utf-8" />

    <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon//favicon-16x16.png">
    <link rel="manifest" href="/assets/favicon/site.webmanifest">
    <link rel="mask-icon" href="/assets/favicon/safari-pinned-tab.svg" color="#000000">
    <meta name="apple-mobile-web-app-title" content="Tron GUI">
    <meta name="application-name" content="Tron GUI Example">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="theme-color" content="#000000">

    <link href="./Tron.css" rel="stylesheet" type="text/css">
    <script>var exports = {"__esModule": true};</script>
    <script src="./Tron.js"></script>
    <script src="./app.js"></script>

    <style type="text/css">
        textarea#information {
            width: 300px;
            height: 300px;
            font-size: 8px;
            border: none;
        }
    </style>

</head>
<body>
    <textarea id="information"></textarea>
    <div id="elm-node"></div>
    <script type="text/javascript">

        const app = Elm.ListenFromJs.Main.init({
            node : document.getElementById("elm-node")
        });

        const companion =
            { int_ : 42
            , float_ : 14
            , button_ : () => { console.log('test'); }
            , toggle : false
            , text : 'aaa'
            , xy : { x: 20, y : 13 }
            , colorA : { red: 0.8, green : 0, blue : 0.5, alpha : 0.5 } // '#ff6633'
            , colorBRed : 0.2
            , colorBGreen : 0.2
            , colorBBlue : 0.2
            , choice : 'The Foo'
            , buttonA : () => { console.log('A'); }
            , buttonB : () => { console.log('B'); }
            , buttonC : () => { console.log('C'); }
            , buttonD : () => { console.log('D'); }
            , innerKnobA : 200
            , innerKnobB : 30
            };

        const tron = new Tron(app.ports, companion);

        tron.attach('int_', [ 'int' ], (v) => ( console.log(v, companion.int_) ));
        tron.attach('float_', [ 'float' ], (v) => ( console.log(v, companion.float_) ));
        tron.attach('button_', [ 'button' ]);
        tron.attach('buttonA', [ 'nest', 'a' ]);
        tron.attach('buttonB', [ 'nest', 'b' ]);
        tron.attach('buttonC', [ 'nest', 'c' ]);
        tron.attach('buttonD', [ 'nest', 'd' ]);
        tron.attach('colorA', [ 'color' ], (v) => ( console.log(v, companion.colorA) ));
        tron.attach('toggle', [ 'toggle' ], (v) => ( console.log(v, companion.toggle) ));
        tron.attach('text', [ 'text' ], (v) => ( console.log(v, companion.text) ));
        tron.attach('xy', [ 'xy' ], (v) => ( console.log(v, companion.xy) ));
        tron.attach('choice', [ 'choice' ], (v) => ( console.log(v, companion.choice) ));
        tron.attach('colorBRed', [ 'nest', 'color', 'red' ], (v) => ( console.log(v, companion.colorBRed) ));
        tron.attach('colorBGreen', [ 'nest', 'color', 'green' ], (v) => ( console.log(v, companion.colorBGreen) ));
        tron.attach('colorBBlue', [ 'nest', 'color', 'blue' ], (v) => ( console.log(v, companion.colorBBlue) ));

        tron.listen();
    </script>

</body>
</html>
